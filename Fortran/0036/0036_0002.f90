MODULE MOD_A
  IMPLICIT NONE
  CHARACTER(LEN=10 ) :: String
!$OMP THREADPRIVATE (String)
END MODULE MOD_A

MODULE MOD_B
  USE MOD_A, ONLY:  String
  IMPLICIT NONE
END MODULE MOD_B

MODULE SUB_WRAPPER

  USE MOD_B
  USE MOD_A

  IMPLICIT NONE

CONTAINS

SUBROUTINE SUB

  IMPLICIT NONE

  String = 'Hello'
END SUBROUTINE SUB

END MODULE SUB_WRAPPER

PROGRAM MAIN

USE SUB_WRAPPER

IMPLICIT NONE

CALL Sub
print *,'pass'

END
